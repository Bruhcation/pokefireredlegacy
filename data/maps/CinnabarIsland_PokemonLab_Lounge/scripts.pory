raw `

.equ CHECKED_MUSHROOMS,  FLAG_TEMP_1
.equ HAS_BIG_MUSHROOM,   FLAG_TEMP_2
.equ HAS_TINY_MUSHROOMS, FLAG_TEMP_3
.equ HAS_BOTH_MUSHROOMS, FLAG_TEMP_4

CinnabarIsland_PokemonLab_Lounge_MapScripts::
	.byte 0

CinnabarIsland_PokemonLab_Lounge_EventScript_Scientist::
	msgbox CinnabarIsland_PokemonLab_Lounge_Text_FoundFossilInMtMoon, MSGBOX_NPC
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_Clifton::
	lock
	faceplayer
	setvar VAR_0x8008, INGAME_TRADE_ELECTRODE
	call EventScript_GetInGameTradeSpeciesInfo
	goto_if_set FLAG_DID_ESPHERE_TRADE, CinnabarIsland_PokemonLab_Lounge_EventScript_CliftonAlreadyTraded
	msgbox Trade_Text_DoYouHaveMonWouldYouTradeForMon, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, NO, CinnabarIsland_PokemonLab_Lounge_EventScript_CliftonDeclineTrade
	call EventScript_ChooseMonForInGameTrade
	goto_if_ge VAR_0x8004, PARTY_SIZE, CinnabarIsland_PokemonLab_Lounge_EventScript_CliftonDeclineTrade
	call EventScript_GetInGameTradeSpecies
	goto_if_ne VAR_RESULT, VAR_0x8009, CinnabarIsland_PokemonLab_Lounge_EventScript_CliftonNotRequestedMon
	call EventScript_DoInGameTrade
	msgbox Trade_Text_Thanks
	setflag FLAG_DID_ESPHERE_TRADE
	release
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_CliftonDeclineTrade::
	msgbox Trade_Text_WellIfYouDontWantTo
	release
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_CliftonNotRequestedMon::
	bufferspeciesname STR_VAR_1, VAR_0x8009
	msgbox Trade_Text_ThisIsntMon
	release
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_CliftonAlreadyTraded::
	msgbox Trade_Text_HasTradedMonGrownStronger
	release
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_Norma::
	lock
	faceplayer
	setvar VAR_0x8008, INGAME_TRADE_TANGELA
	copyvar VAR_0x8004, VAR_0x8008
	specialvar VAR_RESULT, GetInGameTradeSpeciesInfo
	copyvar VAR_0x8009, VAR_RESULT
	goto_if_set FLAG_DID_TANGENY_TRADE, CinnabarIsland_PokemonLab_Lounge_EventScript_NormaAlreadyTraded
	msgbox Trade_Text_DoYouHaveMonWantToTradeForMon, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, NO, CinnabarIsland_PokemonLab_Lounge_EventScript_NormaDeclineTrade
	special ChoosePartyMon
	waitstate
	copyvar VAR_0x800A, VAR_0x8004
	goto_if_ge VAR_0x8004, PARTY_SIZE, CinnabarIsland_PokemonLab_Lounge_EventScript_NormaDeclineTrade
	copyvar VAR_0x8005, VAR_0x800A
	specialvar VAR_RESULT, GetTradeSpecies
	copyvar VAR_0x800B, VAR_RESULT
	goto_if_ne VAR_RESULT, VAR_0x8009, CinnabarIsland_PokemonLab_Lounge_EventScript_NormaNotRequestedMon
	copyvar VAR_0x8004, VAR_0x8008
	copyvar VAR_0x8005, VAR_0x800A
	special CreateInGameTradePokemon
	special DoInGameTradeScene
	waitstate
	msgbox Trade_Text_ThanksYoureAPal
	setflag FLAG_DID_TANGENY_TRADE
	release
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_NormaDeclineTrade::
	msgbox Trade_Text_ThatsTooBad
	release
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_NormaNotRequestedMon::
	bufferspeciesname STR_VAR_1, VAR_0x8009
	msgbox Trade_Text_ThisIsNoMon
	release
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_NormaAlreadyTraded::
	msgbox Trade_Text_HowIsMyOldMon
	release
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_MoveManiac::
	goto_if_questlog EventScript_ReleaseEnd
	special QuestLog_CutRecording
	lock
	faceplayer
	clearflag HAS_BIG_MUSHROOM
	clearflag HAS_TINY_MUSHROOMS
	clearflag HAS_BOTH_MUSHROOMS
	goto_if_set CHECKED_MUSHROOMS, CinnabarIsland_PokemonLab_Lounge_EventScript_CheckPlayerHasMushrooms
	msgbox CinnabarIsland_PokemonLab_Lounge_Text_TeachMonMoveForMushroom
	setflag CHECKED_MUSHROOMS
	goto CinnabarIsland_PokemonLab_Lounge_EventScript_CheckPlayerHasMushrooms
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_CheckPlayerHasMushrooms::
	checkitem ITEM_BIG_MUSHROOM
	call_if_eq VAR_RESULT, TRUE, CinnabarIsland_PokemonLab_Lounge_EventScript_SetHasBigMushroom
	checkitem ITEM_TINY_MUSHROOM, 1
	call_if_eq VAR_RESULT, TRUE, CinnabarIsland_PokemonLab_Lounge_EventScript_SetHasTinyMushrooms
	goto_if_set HAS_BIG_MUSHROOM, CinnabarIsland_PokemonLab_Lounge_EventScript_CheckAlsoHasTinyMushrooms
	goto_if_set HAS_TINY_MUSHROOMS, CinnabarIsland_PokemonLab_Lounge_EventScript_CheckAlsoHasBigMushroom
	goto CinnabarIsland_PokemonLab_Lounge_EventScript_EndTutorMove
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_CheckAlsoHasTinyMushrooms::
	call_if_set HAS_TINY_MUSHROOMS, CinnabarIsland_PokemonLab_Lounge_EventScript_SetHasBothMushrooms
	goto CinnabarIsland_PokemonLab_Lounge_EventScript_AskTutorMon
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_CheckAlsoHasBigMushroom::
	call_if_set HAS_BIG_MUSHROOM, CinnabarIsland_PokemonLab_Lounge_EventScript_SetHasBothMushrooms
	goto CinnabarIsland_PokemonLab_Lounge_EventScript_AskTutorMon
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_AskTutorMon::
	msgbox CinnabarIsland_PokemonLab_Lounge_Text_WantMeToTeachMove, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, NO, CinnabarIsland_PokemonLab_Lounge_EventScript_EndTutorMove
	goto CinnabarIsland_PokemonLab_Lounge_EventScript_ChooseMonToTutor
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_ChooseMonToTutor::
	msgbox CinnabarIsland_PokemonLab_Lounge_Text_TutorWhichMon
	special ChooseMonForMoveRelearner
	waitstate
	goto_if_ge VAR_0x8004, PARTY_SIZE, CinnabarIsland_PokemonLab_Lounge_EventScript_EndTutorMove
	special IsSelectedMonEgg
	goto_if_eq VAR_RESULT, TRUE, CinnabarIsland_PokemonLab_Lounge_EventScript_CantTutorEgg
	goto_if_eq VAR_0x8005, 0, CinnabarIsland_PokemonLab_Lounge_EventScript_NoMoveToTutorMon
	goto CinnabarIsland_PokemonLab_Lounge_EventScript_ChooseMoveToTeach
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_ChooseMoveToTeach::
	msgbox CinnabarIsland_PokemonLab_Lounge_Text_TeachWhichMove
	special TeachMoveRelearnerMove
	waitstate
	goto_if_eq VAR_0x8004, 0, CinnabarIsland_PokemonLab_Lounge_EventScript_ChooseMonToTutor
	goto_if_set HAS_BOTH_MUSHROOMS, CinnabarIsland_PokemonLab_Lounge_EventScript_ChooseMushroom
	goto_if_set HAS_BIG_MUSHROOM, CinnabarIsland_PokemonLab_Lounge_EventScript_GiveBigMushroom
	goto_if_set HAS_TINY_MUSHROOMS, CinnabarIsland_PokemonLab_Lounge_EventScript_GiveTinyMushrooms
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_GiveBigMushroom::
	removeitem ITEM_BIG_MUSHROOM
	textcolor NPC_TEXT_COLOR_NEUTRAL
	msgbox CinnabarIsland_PokemonLab_Lounge_Text_HandedOverOneBigMushroom
	call EventScript_RestorePrevTextColor
	goto CinnabarIsland_PokemonLab_Lounge_EventScript_EndTutorMove
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_GiveTinyMushrooms::
	removeitem ITEM_TINY_MUSHROOM, 1
	textcolor NPC_TEXT_COLOR_NEUTRAL
	msgbox CinnabarIsland_PokemonLab_Lounge_Text_HandedOverTwoTinyMushrooms
	call EventScript_RestorePrevTextColor
	goto CinnabarIsland_PokemonLab_Lounge_EventScript_EndTutorMove
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_ChooseMushroom::
	message CinnabarIsland_PokemonLab_Lounge_Text_IllNeedMushroomOrTwo
	waitmessage
	multichoice 0, 0, MULTICHOICE_MUSHROOMS, TRUE
	switch VAR_RESULT
	case 0, CinnabarIsland_PokemonLab_Lounge_EventScript_GiveTinyMushrooms
	case 1, CinnabarIsland_PokemonLab_Lounge_EventScript_GiveBigMushroom
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_NoMoveToTutorMon::
	msgbox CinnabarIsland_PokemonLab_Lounge_Text_NoMoveICanTeachThatMon
	goto CinnabarIsland_PokemonLab_Lounge_EventScript_ChooseMonToTutor
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_CantTutorEgg::
	msgbox CinnabarIsland_PokemonLab_Lounge_Text_CantTeachAnEgg
	goto CinnabarIsland_PokemonLab_Lounge_EventScript_ChooseMonToTutor
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_EndTutorMove::
	msgbox CinnabarIsland_PokemonLab_Lounge_Text_NeedMushroomOrTwoToLearnMove
	release
	end

CinnabarIsland_PokemonLab_Lounge_EventScript_SetHasBigMushroom::
	setflag HAS_BIG_MUSHROOM
	return

CinnabarIsland_PokemonLab_Lounge_EventScript_SetHasTinyMushrooms::
	setflag HAS_TINY_MUSHROOMS
	return

CinnabarIsland_PokemonLab_Lounge_EventScript_SetHasBothMushrooms::
	setflag HAS_BOTH_MUSHROOMS
	return

`
